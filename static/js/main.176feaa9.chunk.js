(this["webpackJsonpdoc-editor-react"]=this["webpackJsonpdoc-editor-react"]||[]).push([[3],{0:function(e,t){e.exports=React},16:function(e,t){e.exports=ReactDOM},162:function(e,t,n){},165:function(e,t,n){},167:function(e,t,n){},171:function(e,t,n){e.exports={selected:"selection-wrapper_selected__2ZEX2"}},173:function(e,t,n){e.exports={preview:"components_preview__2862r"}},184:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},225:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},331:function(e,t,n){},338:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return rr})),n(184);var r=n(348),i=n(349),a=n(353),o=n(354),c=n(0),l=n.n(c),s=(t=n(16),n.n(t)),d=(n(189),n(190),n(79),n(342),n(343),n(134),n(199),n(201),n(203),n(205),n(341),n(212),n(394)),h=n(2),m=n(109),u=n(37),b=n(55);function p(e){const{at:t,key:n,above:r}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};var i,a=h.a.above(e,{match:t=>h.a.isBlock(e,t)&&(!n||g(t,n)),at:t,mode:r?"highest":"lowest"});return a?([a,i]=a,{block:a,path:i}):null}const j=e=>!h.a.isEditor(e)&&h.b.isElement(e),g=(e,t)=>j(e)&&!!e[t],v=(e,t)=>!!t&&h.a.isBlock(e,t),x=e=>h.h.isText(e),f=(e,t)=>{var{at:t=e.selection,match:n,self:r=!0}=t||{};if(t){var i,a,o=h.a.path(e,t);for([i,a]of h.a.levels(e,{at:o,voids:!1,match:n,reverse:!0}))if(!h.h.isText(i)&&(r||!h.e.equals(o,a)))return{node:i,path:a}}},y=(e,t)=>Object(b.a)(t)&&!t.length?null:h.a.parent(e,t),O=(e,t)=>{if(!e)return{};const n=t||[],r=(n.push("children"),{});return Object.keys(e).filter((e=>-1===n.indexOf(e))).forEach((t=>r[t]=e[t])),r},k=(e,t)=>{for(var n=[{path:[],node:e}];n.length;){var r=n.pop();if(r&&r.node&&Array.isArray(r.node.children))for(var[i,a]of r.node.children.entries()){if(Object(b.d)(a)&&a.uuid===t)return[...r.path,i];n.push({path:[...r.path,i],node:a})}}return null},w=(e,n)=>{try{return u.b.findPath(e,n)}catch(t){for(var r=[{path:[],node:e}];r.length;){var i=r.pop();if(i&&i.node&&Array.isArray(i.node.children))for(var[a,o]of i.node.children.entries()){if(o===n)return[...i.path,a];r.push({path:[...i.path,a],node:o})}}return null}},N=(e,t,n,r)=>{var[t,...i]=t.split(".");if(!(e=p(e,{at:r,key:t})))return!1;let a=e.block[t];for(let o=0,c=i.length;o<c;++o){if(!Object(b.d)(a))return!1;a=a[i[o]]}return!!Object(b.b)(n)||a===n};function E(e){return!(e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e.selection)||h.g.isCollapsed(e)}function C(e){e=e.key;for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return-1<n.indexOf(e)}const L=(e,t)=>(t=h.a.start(e,t),E(e,e.selection)&&h.f.equals(t,e.selection.anchor)),B=(e,t)=>!!v(e,t)&&(e=t.children[0])&&x(e);function D(e,t,n){t=1<arguments.length&&void 0!==t?t:"last",n=2<arguments.length?n:void 0;var{at:r,wrapKey:i,itemKey:a}=n,i=n.wrapNode||p(e,{at:r,key:i});n=n.itemNode||p(e,{at:r,key:a});if(i&&n&&i.block.children.length)return e=i.block.children,"last"===t?e[e.length-1]===n.block:"first"===t?e[0]===n.block:e[0]===n.block||e[e.length-1]===n.block}const S=(e,t,n,r)=>{var i,a;return!(!(r=r||e.selection)||(a=(a=h.a.node(e,r))&&a[0],i=(r=y(e,r))&&r[0],!(v(e,a)&&v(e,i)?a[n]&&i[t]:(r=(a=r&&y(e,r[1]))&&a[0],v(e,i)&&v(e,r)&&i[n]&&r[t]))))};class M{constructor(e){this.editor=e,this.onCopy=e=>{var t=this.editor.getFragment();const n=e=>e.map((e=>x(e)?h.c.string(e):B(this.editor,e)?n(e.children)+"\n":v(this.editor,e)?n(e.children):"")).join("");t=n(t).replace(/\n$/,""),e.clipboardData.setData("text/plain",t),e.preventDefault()}}}class K{constructor(e){this.editor=e,this.commands={},this.register=(e,t)=>{this.commands[e]=t},this.exec=(e,t)=>this.commands[e]&&this.commands[e](this.editor,e,t),this.destroy=()=>{this.commands={}}}get(){return this.commands}}const I="Backspace",P="Enter",z=" ",A="Tab",T="mouseup",V="mousedown",R="selectionchange";class _{constructor(){this.listeners={}}on(e,t){this.addEventListener(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3,!1)}once(e,t){this.addEventListener(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3,!0)}addEventListener(e,t,n,r){var i=this.listeners[e]||[];i.some((e=>e.listener===t))||i.push({listener:t,priority:n,once:r}),i.sort(((e,t)=>e.priority-t.priority)),this.listeners[e]=i}off(e,t){var n=this.listeners[e];n&&(n=n.filter((e=>e.listener!==t)),this.listeners[e]=n)}trigger(e,t){var n=this.listeners[e];if(n){let i=!1;var r={...t,stop:()=>i=!0};for(const t of n)if(t.listener(r),t.once&&this.off(e,t.listener),i)break}}clear(){this.listeners={}}}class F{constructor(e){this.editor=e,this.bus=void 0,this.on=(e,t,n)=>this.bus.on(e,t,n),this.once=(e,t,n)=>this.bus.once(e,t,n),this.off=(e,t)=>this.bus.off(e,t),this.trigger=(e,t)=>this.bus.trigger(e,t),this.destroy=()=>{this.bus.clear()},this.bus=new _}}const q="CONTENT_CHANGE",H="SELECTION_CHANGE",G="copy",X="paste",U="keydown",W="keypress",J="mousedown",Y="mouseup",Z=-1,$=0,Q=1,ee=2;class te{constructor(e){this.level=e}set(e){this.level=e}debug(){if(this.level<=Z){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("DEBUG: ",...t)}}info(){if(this.level<=$){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("Log: ",...t)}}warning(){if(this.level<=Q){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn("Warning: ",...t)}}error(){if(this.level<=ee){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("Error: ",...t)}}trace(){if(this.level<=ee){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.trace("Trace: ",...t)}}}var ne=n(1);const re=e=>{var{className:t,selectable:n=!0}=e;return Object(ne.jsx)("div",{contentEditable:!1,className:t,style:{userSelect:n?void 0:"none"},children:e.children})},ie="BLOCK",ae="INLINE",oe=!0;class ce{constructor(e){var t=this;this.editor=e,this.plugins=void 0,this.register=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const o of n){var i=o.key,a=t.plugins[i];a&&a.destroy&&a.destroy(),t.plugins[i]=o}},this.apply=()=>{var e=Object.values(this.plugins);const t=[],n=[],r=[],i=[];return e.sort(((e,t)=>(t.priority||0)-(e.priority||0))),e.forEach((e=>{e.type===ie?(t.push(e),e.renderLeaf&&e.matchLeaf&&n.push({type:ae,key:e.key,match:e.matchLeaf,render:e.renderLeaf})):e.type===ae&&n.push(e),e.command&&this.editor.command.register(e.key,e.command),e.onKeyDown&&r.push(e),e.decorate&&i.push(e)})),{renderElement:e=>{var n=e,r=t,i={props:n,style:{},classList:[],element:n.element,children:n.children};for(const t of r)if(t.match(n)&&t.render){i.children=Object(ne.jsxs)(ne.Fragment,{children:[n.children,Object(ne.jsx)(re,{children:t.render(i)})]});break}for(let t=r.length-1;0<=t;t--){var a=r[t];a.match(n)&&a.renderLine&&(i.children=a.renderLine(i))}return Object(ne.jsx)("div",{...n.attributes,className:i.classList.join(" "),style:i.style,children:i.children})},renderLeaf:e=>{var t=e,r=(e=n,{props:t,style:{},element:t.text,leaf:t.leaf,classList:[],children:t.children});for(const n of e)n.match(t)&&n.render&&(r.children=n.render(r));return Object(ne.jsx)("span",{...t.attributes,className:r.classList.join(" "),style:r.style,children:r.children})},onKeyDown:e=>{if(!e.nativeEvent.isComposing)for(const t of r)if(t.onKeyDown&&t.onKeyDown(e)===oe)break},decorate:e=>{var t,n=e,r=(e=i,[]);for(const i of e)i.decorate&&(t=i.decorate(n))&&r.push(...t);return r}}},this.reset=()=>{Object.values(this.plugins).forEach((e=>e.destroy&&e.destroy())),this.plugins={}},this.destroy=()=>{this.reset()},this.plugins={}}}function le(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let r=n.node;const{at:i,key:a}=n;r||(n=f(e,{at:i,match:t=>v(e,t)&&(!a||g(t,a))}))&&n.node&&(r=n.node),r&&h.i.setNodes(e,t,{match:e=>e===r,at:i})}function se(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let r=n.node;const{at:i,key:a}=n;r||(n=f(e,{at:i,match:t=>v(e,t)&&(!a||g(t,a))}))&&n.node&&(r=n.node),r&&h.i.unsetNodes(e,t,{match:e=>e===r,at:i})}function de(e,t){const{at:n,node:r}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};r?h.i.setNodes(e,t,{match:e=>e===r,split:!0,at:n}):h.i.setNodes(e,t,{match:x,split:!0,at:n})}function he(e,t){const{at:n,node:r}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};r?h.i.unsetNodes(e,t,{match:e=>e===r,at:n}):h.i.unsetNodes(e,t,{match:x,split:!0,at:n})}function me(e,t,n){const r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).at;h.a.withoutNormalizing(e,(()=>{le(e,t,{at:r}),h.i.wrapNodes(e,n,{match:x,at:r})}))}const ue=(e,t)=>{const{at:n,wrapKey:r,itemKey:i}=t,a=f(e,{match:e=>g(e,r),at:n}),o=f(e,{match:e=>g(e,i),at:n});if(a&&o){const t=O(a.node,[r]);h.a.withoutNormalizing(e,(()=>{h.i.setNodes(e,t,{at:o.path}),h.i.unsetNodes(e,[i],{at:o.path}),h.i.unwrapNodes(e,{match:(e,t)=>h.e.equals(t,a.path),split:!0,at:o.path})}))}};class be{constructor(e){for(var[t,n]of(this.wrap=new Map,this.pair=new Map,this.void=new Set,this.block=new Set,Object.entries(e)))n.void&&(this.void.add(t),this.block.add(t)),n.block&&this.block.add(t),n.wrap&&(this.block.add(n.wrap),this.wrap.set(n.wrap,t),this.pair.set(t,n.wrap))}normalizeNode(e,t){const[n,r]=t;if(v(e,n))for(const o of Object.keys(n)){if(this.wrap.has(o)){const t=this.wrap.get(o);(n.children||[]).forEach(((n,r)=>{v(e,n)&&!n[t]&&le(e,{[t]:!0},{node:n})}))}var i,a;this.pair.has(o)&&(i=this.pair.get(o),(a=(a=h.a.parent(e,r))&&a[0])&&v(e,a)&&a[i]||se(e,[o],{node:n}))}}with(e){const{isVoid:t,normalizeNode:n}=e;return e.isVoid=e=>{for(const t of Object.keys(e))if(this.void.has(t))return!0;return t(e)},e.normalizeNode=t=>{var[r]=t;if(v(e,r))try{h.a.withoutNormalizing(e,(()=>{this.normalizeNode(e,t)}))}catch(t){console.error("Normalize Error: ",t)}n(t)},e}isBlockNode(e){return Object.keys(e).some((e=>this.block.has(e)))}isWrapNode(e){return Object.keys(e).some((e=>this.wrap.has(e)))}isPairNode(e){return Object.keys(e).some((e=>this.pair.has(e)))}isVoidNode(e){return Object.keys(e).some((e=>this.void.has(e)))}}const pe=[{children:[{text:""}]}];class je extends l.a.PureComponent{constructor(e){super(e),this.onKeyDown=e=>{this.props.editor.event.trigger(U,e),this.state.renderModule.onKeyDown(e)},this.onKeyPress=e=>{this.props.editor.event.trigger(W,e)},this.onMouseDown=e=>{this.props.editor.event.trigger(J,e)},this.onMouseUp=e=>{this.props.editor.event.trigger(Y,e)},this.onCopy=e=>{this.props.editor.event.trigger(G,e)},this.onPaste=e=>{this.props.editor.event.trigger(X,e)},this.state={renderModule:this.props.editor.plugin.apply()}}componentDidUpdate(e){e.readonly!==this.props.readonly&&this.setState({renderModule:this.props.editor.plugin.apply()}),e.editor!==this.props.editor&&(e.editor.destroy(),this.props.editor.logger.warning("Editor\u5b9e\u4f8b\u91cd\u5efa \u8bf7\u68c0\u67e5\u7f16\u8f91\u5668\u72b6\u6001"))}render(){return Object(ne.jsx)(u.c,{editor:this.props.editor,value:this.props.init||this.props.editor.init||pe,onChange:this.props.onChange,children:Object(ne.jsx)(u.a,{decorate:this.state.renderModule.decorate,renderElement:this.state.renderModule.renderElement,renderLeaf:this.state.renderModule.renderLeaf,readOnly:this.props.readonly,placeholder:this.props.placeholder,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onCopy:this.onCopy,onPaste:this.onPaste})})}}n(220);const ge="paragraph";n(221);var ve=n(355);const xe="heading",fe=(e,t,n)=>{Object(b.d)(n)&&n.path&&(N(e,"".concat(xe,".type"),n.extraKey)?se(e,[xe],{at:n.path}):le(e,{[t]:{type:n.extraKey,id:Object(ve.a)().slice(0,8)}},{at:n.path}))},ye="bold";n(222);const Oe="quote-block",ke="quote-block-item",we=(e,t,n)=>{Object(b.d)(n)&&n.path&&(S(e,Oe,ke,n.path)?ue(e,{at:n.path,wrapKey:Oe,itemKey:ke}):me(e,{"quote-block":!0},{"quote-block-item":!0},{at:n.path}))};var Ne=n(43);function Ee(e){if(Object(b.b)(e))throw new Error("assert value is empty");return e}n(320);let Ce=null;class Le{constructor(e){this.id=void 0,this.container=void 0,this.node=void 0,this.onBeforeCloseFn=void 0,this.mount=e=>{this.node&&s.a.render(e,this.node)},this.onBeforeDestroy=e=>{this.onBeforeCloseFn=e,document.addEventListener(Le.BIND_EVENT_NAME,this.destroy)},this.destroy=()=>{this.onBeforeCloseFn(),document.removeEventListener(Le.BIND_EVENT_NAME,this.destroy),this.node&&this.container&&(s.a.unmountComponentAtNode(this.node),this.container.removeChild(this.node),document.body.removeChild(this.container)),Ce===this&&(Ce=null),this.container=this.node=null};var{mutex:e=!0}=e||{};this.id=Object(ve.a)(),this.container=document.createElement("div"),this.container.id=this.id,this.container.className="popup-container",this.node=document.createElement("div"),this.node.onmousedown=e=>e.stopPropagation(),this.container.appendChild(this.node),this.node.className="popup-container-node",document.body.appendChild(this.container),e&&(Ce&&Ce.destroy(),Ce=this),this.onBeforeCloseFn=()=>null}}Le.BIND_EVENT_NAME="mousedown",n(225);var Be=n(389),De=n(179),Se=n(396),Me=n(70),Ke=n(68);const Ie=e=>{var[t]=Object(Ke.a)(),n=Object(b.b)(e.top)?0:e.top+30,r=Object(b.b)(e.left)?0:e.left-150,i=e.top||e.left?"absolute":void 0;return Object(ne.jsx)("div",{className:"hyper-link-menu",style:{left:r,top:n,position:i},children:Object(ne.jsxs)(Be.a,{initialValues:e.config,form:t,size:"small",labelCol:{span:7,offset:0},wrapperCol:{span:17,offset:0},labelAlign:"left",onSubmit:t=>e.onConfirm&&e.onConfirm(t),children:[Object(ne.jsx)(Be.a.Item,{label:"\u94fe\u63a5\u5730\u5740",field:"href",children:Object(ne.jsx)(De.a,{placeholder:"Enter href"})}),Object(ne.jsxs)(Be.a.Item,{className:"hyper-link-menu-row",wrapperCol:{span:24,offset:0},children:[Object(ne.jsx)(Be.a.Item,{label:"\u65b0\u9875\u9762\u6253\u5f00",field:"blank",children:Object(ne.jsx)(Se.a,{defaultChecked:e.config.blank})}),Object(ne.jsxs)(Be.a.Item,{className:"hyper-link-menu-submit",children:[Object(ne.jsx)(Me.a,{size:"mini",htmlType:"submit",type:"primary",children:"\u786e\u5b9a"}),Object(ne.jsx)(Me.a,{size:"mini",type:"primary",status:"danger",onClick:e.onCancel,children:"\u5220\u9664"})]})]})]})})},Pe="link",ze=e=>{const t=e.config,n=e.editor,[r,i]=Object(c.useState)(!1),a=t=>{i(!1);var r=w(n,e.element);r&&de(n,{link:t},{at:r})},o=()=>{i(!1);var t=w(n,e.element);t&&he(n,[Pe],{at:t})};return Object(ne.jsx)(Ne.b,{popup:()=>Object(ne.jsx)(Ie,{config:t,onConfirm:a,onCancel:o}),position:"bottom",trigger:"click",popupVisible:r,onVisibleChange:e=>{(e&&E(n)||!e)&&i(e)},children:Object(ne.jsx)("span",{className:"hyper-link",onClick:e=>{e.preventDefault()},children:e.children})})},Ae="under-line",Te="strike-through",Ve="italic";n(321);const Re="inline-code";function _e(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e.selection;E(e,n)&&(n=p(e,{key:He}))&&(({block:n,path:t}=n),Xe(e,n,t))}n(322);const Fe="ordered-list",qe="ordered-list-item",He=Fe,Ge=qe,Xe=(e,t,n)=>{const r=[],i={};if(g(t,He)){let a=-1;t.children.forEach(((t,o)=>{if(v(e,t)&&(t=t[Ge])){const{level:c,start:l}=t,s=(c>a&&(i[c]=0),a=c,i[c]=(i[c]||0)+1,i[c]);s!==l&&r.push((()=>{le(e,{"ordered-list-item":{level:c,start:s}},{at:[...n,o]})}))}})),h.a.withoutNormalizing(e,(()=>{r.forEach((e=>e()))}))}},Ue=e=>{var t;E(e,e.selection)&&(t=p(e,{at:e.selection}))&&(t=function(e){const{at:t,key:n,above:r}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};var i,a=h.a.next(e,{match:t=>h.a.isBlock(e,t)&&(!n||g(t,n)),at:t,mode:r?"highest":"lowest"});return a?([a,i]=a,{block:a,path:i}):null}(e,{at:t.path,key:He}))&&Xe(e,t.block,t.path)},We=(e,t,n)=>{Object(b.d)(n)&&n.path&&(S(e,Fe,qe,n.path)?(ue(e,{at:n.path,wrapKey:Fe,itemKey:qe}),Ue(e)):me(e,{"ordered-list":!0},{"ordered-list-item":{start:1,level:1}},{at:n.path}))};n(323);const Je="unordered-list",Ye="unordered-list-item",Ze=(e,t,n)=>{Object(b.d)(n)&&n.path&&(S(e,Je,Ye,n.path)?ue(e,{at:n.path,wrapKey:Je,itemKey:Ye}):me(e,{"unordered-list":!0},{"unordered-list-item":{level:1}},{at:n.path}))};n(324);const $e="dividing-line",Qe=()=>{var e=Object(u.e)(),t=Object(u.d)();return Object(ne.jsx)("div",{className:"dividing-line-container",children:Object(ne.jsx)("div",{className:Object(o.a)("dividing-line",t&&e&&"selected")})})};n(325);const et="align",tt=(e,t,n)=>{!Object(b.d)(n)||N(e,et,n.extraKey)||le(e,{[t]:n.extraKey})};n(162);var nt=n(356);const rt="highlight-block",it="highlight-block-item",at=[{background:"var(--arcoblue-3)",border:"var(--arcoblue-6)"},{background:"var(--green-3)",border:"var(--green-6)"},{background:"var(--orange-3)",border:"var(--orange-6)"},{background:"var(--red-3)",border:"var(--red-6)"},{background:"var(--purple-3)",border:"var(--purple-6)"},{background:"var(--gray-3)",border:"var(--gray-6)"},{background:"var(--magenta-3)",border:"var(--magenta-6)"},{background:"var(--pinkpurple-3)",border:"var(--pinkpurple-6)"},{background:"var(--orangered-3)",border:"var(--orangered-6)"},{background:"var(--cyan-3)",border:"var(--cyan-6)"},{background:"var(--lime-3)",border:"var(--lime-6)"},{background:"var(--gold-3)",border:"var(--gold-6)"},{background:"var(--yellow-3)",border:"var(--yellow-6)"}],ot=e=>{const{editor:t,element:n,config:r,readonly:i}=e,a=Object(nt.a)((e=>{var r=u.b.findPath(t,n);le(t,{"highlight-block":at[e]},{at:r,key:rt})})),o=Object(c.useMemo)((()=>Object(ne.jsx)("div",{className:"highlight-block-selector",children:at.map(((e,t)=>Object(ne.jsx)("div",{className:"selector-item",onClick:()=>a(t),style:{borderColor:"rgb(".concat(e.border,")"),backgroundColor:"rgb(".concat(e.background,", 0.4)")}},t)))})),[a]);return e=Object(ne.jsx)("div",{className:"doc-highlight-block",style:{backgroundColor:"rgb(".concat(r.background,", 0.4)"),borderColor:"rgb(".concat(r.border,")")},children:e.children}),i?e:Object(ne.jsx)(Ne.b,{position:"top",popup:()=>o,popupAlign:{top:3},children:e})};n(326);var ct=n(390);const lt=["var(--color-white)","var(--color-black)","rgb(var(--red-6))","rgb(var(--blue-6))","rgb(var(--green-6))","rgb(var(--orange-6))","rgb(var(--purple-6))","rgb(var(--magenta-6))","rgb(var(--pinkpurple-6))"],st=e=>{var t=e.top+50,n=e.left-180;let r=e.config;const i=Object(nt.a)(((t,n)=>{r={...r,[t]:n},e.onChange(r)}));var a=Object(nt.a)((()=>{e.onChange({}),r={}})),o=Object(c.useMemo)((()=>(e,t)=>Object(ne.jsx)("div",{className:"font-base-picker",children:e.map(((e,n)=>Object(ne.jsx)("div",{className:"picker-item",onClick:()=>i(t,e),style:{backgroundColor:e}},n)))})),[i]);return Object(ne.jsxs)("div",{className:"font-base-menu",style:{left:n,top:t},children:[Object(ne.jsx)("div",{className:"menu-line",children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("span",{className:"label",style:{marginRight:8},children:"\u5b57\u53f7"}),Object(ne.jsx)(ct.a,{size:"mini",defaultValue:e.config.fontSize||14,mode:"button",min:10,onChange:e=>i("fontSize",e)})]})}),Object(ne.jsxs)("div",{className:"menu-line",children:[Object(ne.jsx)("span",{className:"label",children:"\u989c\u8272"}),o(lt,"color")]}),Object(ne.jsxs)("div",{className:"menu-line",children:[Object(ne.jsx)("span",{className:"label",children:"\u80cc\u666f"}),o(lt,"background")]}),Object(ne.jsx)("div",{className:"menu-line reset-default",children:Object(ne.jsx)(Me.a,{type:"outline",size:"mini",onClick:a,children:"\u6062\u590d\u9ed8\u8ba4"})})]})},dt="font-base";n(327);const ht=e=>{var t=e.top+30,n=e.left-100;return Object(ne.jsx)("div",{className:"line-height-menu",style:{left:n,top:t},children:Object(ne.jsx)("div",{className:"menu-line",children:Object(ne.jsxs)("div",{children:[Object(ne.jsx)("span",{className:"label",children:"\u884c\u9ad8"}),Object(ne.jsx)(ct.a,{size:"mini",mode:"button",defaultValue:e.config||1.8,step:.1,precision:1,min:.5,onChange:e.onChange})]})})})},mt="line-height";n(328);var ut=n(397),bt=(t=n(171),n.n(t));const pt=e=>{const t=Object(u.e)();return Object(ne.jsx)("div",{className:Object(o.a)(e.className,!e.readonly&&t&&bt.a.selected),children:l.a.Children.map(e.children,(e=>{var n;return l.a.isValidElement(e)?(n=e.props,l.a.cloneElement(e,{...n,selected:t})):e}))})},jt=1,gt=2,vt=3,xt="image";t=n(386);var ft=n(71),yt=n.n(ft);const Ot=t.a.Preview,kt=e=>{const[t,n]=Object(c.useState)(""),r=Object(c.useRef)(null),i=e.element.uuid,a=!e.disable&&(e.readonly||e.selected);var l=t=>{var n=t.target,a=r.current;const o=e.element[xt];if(t.stopPropagation(),t.preventDefault(),n instanceof HTMLDivElement&&n.dataset.type&&a&&i&&o){const r=t.clientX,c=t.clientY,l=a.offsetWidth,s=a.offsetHeight,d=l/s,h=n.dataset.type,m=k(e.editor,i);if(m){const t=t=>{var n=t.clientX,i=(t=t.clientY,n-r),a=t-c;let u=l,b=s;switch(h){case"lt":u-=i,b-=a;break;case"rt":u+=i,b-=a;break;case"lb":u-=i,b+=a;break;case"rb":u+=i,b+=a}u/b>d?b=u/d:u=b*d,le(e.editor,{image:{...o,width:Math.max(u,50),height:Math.max(b,50)}},{at:m,key:xt})},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}}};return Object(ne.jsxs)(ne.Fragment,{children:[t&&Object(ne.jsx)(Ot,{src:t,visible:!!t,onVisibleChange:e=>!e&&n("")}),!e.readonly&&Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("div",{className:Object(o.a)(a&&yt.a.resider),"data-type":"lt",onMouseDown:l}),Object(ne.jsx)("div",{className:Object(o.a)(a&&yt.a.resider),"data-type":"rt",onMouseDown:l}),Object(ne.jsx)("div",{className:Object(o.a)(a&&yt.a.resider),"data-type":"lb",onMouseDown:l}),Object(ne.jsx)("div",{className:Object(o.a)(a&&yt.a.resider),"data-type":"rb",onMouseDown:l})]}),Object(ne.jsx)("div",{ref:r,onClick:async()=>{var t;a&&(t=e.src,n(t||""))},className:Object(o.a)(a&&yt.a.preview),children:e.children})]})},wt=e=>{var t;return e.element.image?(t=e.element.image,Object(ne.jsx)(ut.a,{loading:t.status===jt,children:Object(ne.jsx)(pt,{readonly:e.readonly,className:"doc-image",children:Object(ne.jsx)(kt,{editor:e.editor,element:e.element,readonly:e.readonly,src:t.src,children:Object(ne.jsx)("img",{src:t.src,width:t.width,height:t.height})})})})):null},Nt=e=>new Promise((t=>{setTimeout((()=>{var n=window.URL.createObjectURL(e);t({src:n,width:256,height:256})}),1e3)}));n(329);var Et=n(388);const Ct="code-block",Lt="code-block-type",Bt="code-block-item";ft=n(69);var Dt=n.n(ft);n(163),n(164),n(330);const St="Plain Text",Mt=[St,"JavaScript","Java"],Kt=e=>(null==(e=e["code-block-config"])?void 0:e.language)||St;n(331);var It=n(180),Pt=n(357),zt=n(358),At=n(359);const Tt="flow-chart";let Vt=null,Rt=null;const _t=()=>Rt?Promise.resolve(Rt):Promise.all([Promise.all([n.e(0),n.e(2)]).then(n.bind(null,465))]).then((e=>Rt=e[0])),Ft=(e,t,r)=>(Vt?Promise.resolve(Vt):Promise.all([Promise.all([n.e(0),n.e(1)]).then(n.bind(null,463)),n.e(6).then(n.t.bind(null,464,7))]).then((e=>Vt=e[0]))).then((t=>{let{stringToXml:n,DiagramEditor:r,getLanguage:i}=t;const a=new r(document.body,(e=>{s.a.render(Object(ne.jsx)("div",{onClick:a.exit,className:"diagram-exit-btn",children:"\u9000\u51fa"}),e)}));return i(e).then((e=>({res:e,stringToXml:n,diagramEditor:a})))})).then((e=>{let{res:n,stringToXml:i,diagramEditor:a}=e;return{start:()=>{a.start(n,t?i(t):null,r)}}}));ft=n(173);var qt=n.n(ft);const Ht=t.a.Preview,Gt=e=>{const[t,n]=Object(c.useState)(""),r=!e.disable&&(e.readonly||e.selected);return Object(ne.jsxs)(ne.Fragment,{children:[t&&Object(ne.jsx)(Ht,{src:t,visible:!!t,onVisibleChange:e=>!e&&n("")}),Object(ne.jsx)("div",{onClick:async()=>{var t;r&&(t=await e.src(),n(t||""))},className:Object(o.a)(r&&qt.a.preview),children:e.children})]})},Xt=e=>{const t=Object(c.useRef)(null),[n,r]=Object(c.useState)(!0),[i,a]=Object(c.useState)(!1);Object(c.useEffect)((()=>{if(e.config.content){const i=e.config.content;n=i,_t().then((e=>{var{DiagramViewer:e,stringToXml:t}=e;return new e(Object(b.f)(n)?t(n):n).renderSVG(null,1,1)})).then((e=>{const n=t.current;n&&e&&(n.childNodes.forEach((e=>n.removeChild(e))),n.appendChild(e),r(!1))}))}else r(!1);var n}),[e.config.content,e.readonly]);const l=Object(ne.jsxs)("div",{onClick:e=>e.stopPropagation(),onMouseDown:e=>e.preventDefault(),children:[Object(ne.jsx)(Me.a,{type:"text",icon:Object(ne.jsx)(Pt.a,{}),size:"small",loading:i,onClick:()=>{a(!0),Ft("zh",e.config.content,(t=>{var n;(t=(e=>{if(!e)return null;try{return(new XMLSerializer).serializeToString(e)}catch(e){return console.log("XmlToString Error: ",e),null}})(t))&&(n=u.b.findPath(e.editor,e.element),le(e.editor,{"flow-chart":{type:"xml",content:t}},{at:n,key:Tt}))})).then((e=>{e.start(),a(!1)}))},children:"\u7f16\u8f91"}),Object(ne.jsx)(Me.a,{type:"text",icon:Object(ne.jsx)(zt.a,{}),size:"small",onClick:()=>{return t=e.config.content,_t().then((e=>(e=e.downloadSVG)(t))).then((e=>e&&e()));var t},children:"\u4e0b\u8f7d"})]});var s=Object(ne.jsx)("div",{className:"flow-chart-container",children:e.config.content?Object(ne.jsx)("div",{ref:t}):Object(ne.jsx)(It.a,{description:"\u7a7a\u767d\u56fe\u5f62"})});return Object(ne.jsx)(pt,{readonly:e.readonly,children:Object(ne.jsx)(Gt,{readonly:e.readonly,src:()=>{return t=e.config.content,_t().then((e=>(e=e.convertSVGToBase64)(t)));var t},disable:!e.config.content,children:Object(ne.jsx)("div",{className:Object(o.a)("doc-flow-chart"),children:Object(ne.jsxs)(ut.a,{loading:n,children:[Object(ne.jsxs)("div",{className:"flow-chart-title",children:[Object(ne.jsx)(At.a,{}),Object(ne.jsx)("span",{children:"\u6d41\u7a0b\u56fe"})]}),e.readonly?s:Object(ne.jsx)(Ne.b,{popup:()=>l,position:"top",popupAlign:{top:5},className:"flow-chart-toolbar",children:s})]})})})})};n(165);var Ut=n(398),Wt=n(391),Jt=n(360),Yt=n(385),Zt=n(399);const $t="react-live",Qt="react-live-type",en="react-live-item",tn=e=>{const t=Object(c.useRef)(null),[n,r]=Object(c.useState)(!0),i=((e,t)=>{const n=t=>(t.children||[]).map((t=>x(t)?h.c.string(t):B(e,t)?n(t)+"\n":v(e,t)?n(t):"")).join("");return n(t)})(e.editor,e.element);return Object(Wt.a)((()=>{var e=t.current;if(e)try{var n=Object(Jt.a)({React:l.a,Button:Me.a,console:console,Space:Ut.a}),a=Object(Yt.a)("<div>"+i+"</div>");const t=Object(Zt.a)(a,n);s.a.render(Object(ne.jsx)((()=>(Object(c.useEffect)((()=>{r(!1)}),[]),t)),{}),e)}catch(e){console.log("Render Component Error",e)}}),[i],{wait:300}),Object(ne.jsxs)("div",{className:"react-live-container",children:[Object(ne.jsx)(re,{selectable:!0,children:Object(ne.jsx)(ut.a,{loading:n,className:"react-live-preview",children:Object(ne.jsx)("div",{ref:t})})}),Object(ne.jsx)("div",{className:"react-live-code",children:e.children})]})};n(167);var nn=n(368);const rn=(e,t)=>{const{editor:n,element:r}=e,[i,a]=t.split(".");var o,c;t=u.b.findPath(n,r);u.b.focus(n),e.status.isNextLine?t.length&&(o=t.slice(0,-1),c=t[t.length-1]+1,o.push(c),h.i.insertNodes(n,{children:[{text:""}]},{at:o,select:!0}),Promise.resolve().then((()=>{var t=e.editor.selection;t&&n.command.exec(i,{extraKey:a,path:t.focus.path,element:r})}))):n.command.exec(i,{extraKey:a,path:t,element:r})},an=(e,t)=>Object(ne.jsx)("div",{className:"toolbar-signal-menu",onClick:t,children:e}),on=(e,t,n)=>Object(ne.jsxs)("div",{className:"toolbar-banner-menu",onClick:n,children:[Object(ne.jsx)("span",{className:"banner-menu-icon",children:e}),Object(ne.jsx)("span",{className:"banner-menu-name",children:t})]});ft={renderIcon:e=>e.element[Ct]?{element:Object(ne.jsx)(nn.a,{}),config:{position:"lt"}}:null,renderSignal:()=>null,renderBanner:e=>e.status.isBlock||!e.status.isEmptyLine?null:on(Object(ne.jsx)(nn.a,{}),"\u4ee3\u7801\u5757",(()=>{rn(e,Ct),e.close()}))};var cn=n(170);t={renderIcon:e=>e.element[Oe]||e.element[Fe]||e.element[Je]||e.status.isInCodeBlock||e.status.isInHighLightBlock||e.status.isInReactLive?null:{element:Object(ne.jsx)(cn.a,{})},renderSignal:()=>null,renderBanner:()=>null};const ln=Object(ne.jsx)("svg",{className:"arco-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",children:Object(ne.jsx)("path",{d:"M64.128 810.666667h128a21.333333 21.333333 0 0 1 21.333333 21.333333v42.666667a21.333333 21.333333 0 0 1-21.333333 21.333333h-128a21.333333 21.333333 0 0 1-21.333333-21.333333v-42.666667a21.333333 21.333333 0 0 1 21.333333-21.333333z m384 0h128a21.333333 21.333333 0 0 1 21.333333 21.333333v42.666667a21.333333 21.333333 0 0 1-21.333333 21.333333h-128a21.333333 21.333333 0 0 1-21.333333-21.333333v-42.666667a21.333333 21.333333 0 0 1 21.333333-21.333333z m384 0h128a21.333333 21.333333 0 0 1 21.333333 21.333333v42.666667a21.333333 21.333333 0 0 1-21.333333 21.333333h-128a21.333333 21.333333 0 0 1-21.333333-21.333333v-42.666667a21.333333 21.333333 0 0 1 21.333333-21.333333z m-768-682.666667h128a21.333333 21.333333 0 0 1 21.333333 21.333333v42.666667a21.333333 21.333333 0 0 1-21.333333 21.333333h-128a21.333333 21.333333 0 0 1-21.333333-21.333333V149.333333a21.333333 21.333333 0 0 1 21.333333-21.333333z m384 0h128a21.333333 21.333333 0 0 1 21.333333 21.333333v42.666667a21.333333 21.333333 0 0 1-21.333333 21.333333h-128a21.333333 21.333333 0 0 1-21.333333-21.333333V149.333333a21.333333 21.333333 0 0 1 21.333333-21.333333z m384 0h128a21.333333 21.333333 0 0 1 21.333333 21.333333v42.666667a21.333333 21.333333 0 0 1-21.333333 21.333333h-128a21.333333 21.333333 0 0 1-21.333333-21.333333V149.333333a21.333333 21.333333 0 0 1 21.333333-21.333333zM64 469.333333h896a21.333333 21.333333 0 0 1 21.333333 21.333334v42.666666a21.333333 21.333333 0 0 1-21.333333 21.333334H64a21.333333 21.333333 0 0 1-21.333333-21.333334v-42.666666a21.333333 21.333333 0 0 1 21.333333-21.333334z"})});var sn={renderIcon:e=>e.element[$e]?{element:ln}:null,renderSignal:e=>e.status.isBlock?null:an(ln,(()=>{rn(e,$e),e.close()})),renderBanner:()=>null},dn={renderIcon:e=>e.element[Tt]?{element:Object(ne.jsx)(At.a,{}),config:{position:"lt"}}:null,renderSignal:()=>null,renderBanner:e=>e.status.isBlock||!e.status.isEmptyLine?null:on(Object(ne.jsx)(At.a,{}),"\u6d41\u7a0b\u56fe",(()=>{rn(e,Tt),e.close()}))},hn=n(361),mn=n(362),un=n(363),bn={renderIcon:e=>{if(e=e.element[xe]){if("h1"===e.type)return{element:Object(ne.jsx)(hn.a,{})};if("h2"===e.type)return{element:Object(ne.jsx)(mn.a,{})};if("h3"===e.type)return{element:Object(ne.jsx)(un.a,{})}}return null},renderSignal:e=>{var t;return e.status.isBlock?null:(t=t=>()=>{rn(e,xe+"."+t),e.close()},Object(ne.jsxs)(l.a.Fragment,{children:[an(Object(ne.jsx)(hn.a,{}),t("h1")),an(Object(ne.jsx)(mn.a,{}),t("h2")),an(Object(ne.jsx)(un.a,{}),t("h3"))]}))},renderBanner:()=>null};const pn=Object(ne.jsx)("svg",{className:"arco-icon",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 48 48",children:Object(ne.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 6a2 2 0 012 2v24a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2h36zm1 33a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1v-2a1 1 0 011-1h38zM8 10h32v20H8V10z"})});var jn={renderIcon:e=>e.element[rt]?{element:pn,config:{position:"lt"}}:null,renderSignal:()=>null,renderBanner:e=>e.status.isBlock||!e.status.isEmptyLine?null:on(pn,"\u9ad8\u4eae\u5757",(()=>{rn(e,rt),e.close()}))},gn=n(367),vn={renderIcon:e=>e.element[xt]?{element:Object(ne.jsx)(gn.a,{}),config:{position:"lt"}}:null,renderSignal:()=>null,renderBanner:e=>e.status.isBlock||!e.status.isEmptyLine?null:on(Object(ne.jsx)(gn.a,{}),"\u56fe\u7247",(()=>{rn(e,xt),e.close()}))},xn=n(365),fn=n(366),yn={renderIcon:e=>e.element[qe]&&e.status.isTextBlock?{element:Object(ne.jsx)(xn.a,{})}:e.element[Ye]&&e.status.isTextBlock?{element:Object(ne.jsx)(fn.a,{})}:null,renderSignal:e=>{var t;return e.status.isBlock?null:(t=t=>()=>{rn(e,t),e.close()},Object(ne.jsxs)(l.a.Fragment,{children:[an(Object(ne.jsx)(xn.a,{}),t(Fe)),an(Object(ne.jsx)(fn.a,{}),t(Je))]}))},renderBanner:()=>null},On=(n(338),n(370)),kn=n(371),wn=n(372),Nn=n(61);const En=h.c,Cn=e=>{var t=e.state,n=[],r=[];for(const o of In){var i=o.renderSignal(t),a=o.renderBanner(t);i&&n.push(i),a&&r.push(a)}return Object(ne.jsxs)("div",{className:"doc-trigger-menu",children:[0<n.length&&Object(ne.jsx)("div",{className:"doc-trigger-signal-menu",children:n.map(((e,t)=>Object(ne.jsx)(l.a.Fragment,{children:e},t)))}),0<r.length&&Object(ne.jsx)("div",{className:"doc-trigger-banner-menu",children:r.map(((e,t)=>Object(ne.jsx)(l.a.Fragment,{children:e},t)))})]})};var Ln={renderIcon:()=>null,renderSignal:()=>null,renderBanner:e=>{if(e.status.isEmptyLine)return null;const t=()=>{const t=e.editor;var n=[e.element];const r=e=>e.map((e=>x(e)?En.string(e):B(t,e)?r(e.children)+"\n":v(t,e)?r(e.children):"")).join("");n=r(n).replace(/\n$/,""),navigator.clipboard.writeText(n),e.close()},n=()=>{h.i.delete(e.editor,{at:e.path,unit:"block"}),e.close()},r={...e,status:{...e.status,isBlock:!1,isEmptyLine:!0,isNextLine:!0}};return Object(ne.jsxs)(l.a.Fragment,{children:[on(Object(ne.jsx)(On.a,{}),"\u590d\u5236",t),on(Object(ne.jsx)(kn.a,{}),"\u526a\u8d34",(()=>{t(),n(),e.close()})),on(Object(ne.jsx)(wn.a,{}),"\u5220\u9664",n),!e.status.isNextLine&&Object(ne.jsxs)(l.a.Fragment,{children:[Object(ne.jsx)("div",{className:"doc-trigger-menu-cut"}),Object(ne.jsx)(Ne.b,{popup:()=>Object(ne.jsx)(Cn,{state:r}),position:"right",popupAlign:{left:10,right:10},children:Object(ne.jsxs)("div",{className:"toolbar-banner-menu more-options",children:[Object(ne.jsxs)("div",{className:"toolbar-banner-menu-left",children:[Object(ne.jsx)("span",{className:"banner-menu-icon",children:Object(ne.jsx)(cn.a,{})}),Object(ne.jsx)("span",{className:"banner-menu-name",children:"\u5728\u4e0b\u65b9\u6dfb\u52a0"})]}),Object(ne.jsx)("div",{className:"toolbar-banner-menu-right",children:Object(ne.jsx)(Nn.a,{})})]})})]})]})}},Bn=n(364),Dn={renderIcon:e=>e.element[ke]&&e.status.isTextBlock?{element:Object(ne.jsx)(Bn.a,{})}:null,renderSignal:e=>e.status.isBlock?null:an(Object(ne.jsx)(Bn.a,{}),(()=>{rn(e,Oe),e.close()})),renderBanner:()=>null},Sn=n(369),Mn={renderIcon:e=>e.element[$t]?{element:Object(ne.jsx)(Sn.a,{}),config:{position:"lt"}}:null,renderSignal:()=>null,renderBanner:e=>e.status.isBlock||!e.status.isEmptyLine?null:on(Object(ne.jsx)(Sn.a,{}),"ReactLive",(()=>{rn(e,$t),e.close()}))};const Kn=Object(ne.jsx)("svg",{className:"arco-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",children:Object(ne.jsx)("path",{d:"M474.49999971 849.5V212.00000029H174.5c-22.5 0-37.50000029-15.00000029-37.50000029-37.50000029s15.00000029-37.50000029 37.50000029-37.50000029h675c22.5 0 37.50000029 15.00000029 37.50000029 37.50000029s-15.00000029 37.50000029-37.50000029 37.50000029h-299.99999971v637.49999971c0 22.5-15.00000029 37.50000029-37.50000029 37.50000029s-37.50000029-15.00000029-37.50000029-37.50000029z"})}),In=[{renderIcon:()=>null,renderSignal:e=>e.status.isBlock?null:an(Kn,(()=>{rn(e,ge),e.close()})),renderBanner:()=>null},bn,Dn,yn,sn,vn,jn,ft,dn,Mn,Ln,t];let Pn=null;const zn=(e,t)=>{r=e;const n=Pn=Pn||new Set(Object.keys(r).filter((e=>r[e]&&r[e].block)));var r;return 0<Object.keys(t).filter((e=>n.has(e))).length},An=e=>{const[t,n]=Object(c.useState)(!1),[r,i]=Object(c.useState)(!1),a=t||r,l=()=>{n(!1),i(!1)},s=Object(c.useMemo)((()=>{let t=[];return a?u.b.findPath(e.editor,e.element):t}),[a,e.editor,e.element]),d=Object(c.useMemo)((()=>{let t=!1,n=!1,r=!1;if(a){var i=e.editor,o=s,c=e=>{e[Ct]&&(t=!0),e[$t]&&(n=!0),e[rt]&&(r=!0)};if(!(o.length<=1)){let e=o.length-1,t=h.a.parent(i,o);for(;t[0]&&e--;)c(t[0]),t=h.a.parent(i,t[1])}}return{path:s,schema:e.schema,editor:e.editor,element:e.element,status:{isBlock:a&&zn(e.schema,e.element),isTextBlock:a&&B(e.editor,e.element),isEmptyLine:a&&(o=e.element,!(1!==Object.keys(o).length||!Object(b.a)(o.children)||1!==o.children.length||""!==o.children[0].text)),isInCodeBlock:t,isInReactLive:n,isInHighLightBlock:r,isNextLine:!1},close:l}}),[s,a,e.editor,e.element,e.schema]),m=Object(c.useMemo)((()=>{let e=null;for(const n of In){var t=n.renderIcon(d);if(t){e=t;break}}return e}),[d]),p=()=>{u.b.focus(e.editor),h.i.select(e.editor,s),l()};return m?Object(ne.jsx)(Ne.b,{popupVisible:t,onVisibleChange:n,popup:()=>Object(ne.jsx)(Ne.b,{className:"doc-toolbar-trigger",popup:()=>Object(ne.jsx)(Cn,{state:d}),position:"left",popupVisible:r,onVisibleChange:i,children:Object(ne.jsx)("div",{className:"doc-icon-background",children:Object(ne.jsx)("span",{className:"doc-icon-container",onMouseDown:e=>e.preventDefault(),onClick:p,children:m&&m.element})})}),position:"left",mouseLeaveDelay:300,mouseEnterDelay:300,...m.config,children:Object(ne.jsx)("div",{className:Object(o.a)(r&&"doc-line-hover"),children:e.children})}):Object(ne.jsx)("div",{children:e.children})},Tn={"1.":Fe,"-":Je,"*":Je,">":Oe,"#":"".concat(xe,".h1"),"##":"".concat(xe,".h2"),"###":"".concat(xe,".h3"),"---":$e};n(339);var Vn=n(387);function Rn(e,t){const n=new Set(t);return Object(b.d)(e)?Object.keys(e).reduce(((t,r)=>n.has(r)?t:{...t,[r]:e[r]}),{}):e.filter((e=>!n.has(e)))}bn=n(373),Dn=n(374),yn=n(375),sn=n(376),vn=n(377),jn=n(378),ft=n(379),dn=n(380),Mn=n(381),Ln=n(382),t=n(383);var _n=n(384);const Fn=Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)(bn.a,{})},ye),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)(Dn.a,{})},Ve),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)(yn.a,{})},Ae),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)(sn.a,{})},Te),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)(vn.a,{})},Re),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)(jn.a,{})},Pe),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)(ft.a,{})},dt),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)(dn.a,{})},mt),Object(ne.jsxs)(Vn.a.SubMenu,{title:Object(ne.jsx)(Mn.a,{}),popup:!0,triggerProps:{trigger:"click",position:"bottom"},children:[Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)("div",{className:"align-menu-center",children:Object(ne.jsx)(Mn.a,{})})},"".concat(et,".left")),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)("div",{className:"align-menu-center",children:Object(ne.jsx)(Ln.a,{})})},"".concat(et,".center")),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)("div",{className:"align-menu-center",children:Object(ne.jsx)(t.a,{})})},"".concat(et,".right")),Object(ne.jsx)(Vn.a.Item,{children:Object(ne.jsx)("div",{className:"align-menu-center",children:Object(ne.jsx)(_n.a,{})})},"".concat(et,".justify"))]},et)]}),qn=e=>(e=e.children,"object"==typeof document?s.a.createPortal(e,document.body):null),Hn=[Pe,dt],Gn=[...Hn,mt],Xn=e=>{const t=e.editor,n=Object(c.useRef)(!1),r=Object(c.useRef)(null),[i,a]=Object(c.useState)([]),o=Object(nt.a)((e=>{var n=r.current;n&&(u.b.isFocused(t)&&e?(a(Rn(Object.keys(h.a.marks(t)||[]),Hn)),(e=(e=window.getSelection())&&0<e.rangeCount?e.getRangeAt(0).getBoundingClientRect():null)&&(n.style.top="".concat(e.top+window.pageYOffset-40-10,"px"),n.style.left="".concat(e.left+window.pageXOffset-170+e.width/2,"px"))):((e=n).style.left="-1000px",e.style.top="-1000px"))})),l=(Object(c.useEffect)((()=>{const t=r.current;if(t&&!e.readonly){const e=()=>{n.current||(t.style.display="")},r=()=>{n.current||(t.style.display="none")},i=()=>{var e;n.current||(e=!!(e=window.getSelection())&&!e.isCollapsed,o(e))};return document.addEventListener(T,e),document.addEventListener(V,r),document.addEventListener(R,i),()=>{document.removeEventListener(T,e),document.removeEventListener(V,r),document.addEventListener(R,i)}}}),[t,o,e.readonly]),Object(nt.a)(((o,c)=>{var l,s,d,m,[o,u]=o.split("."),b=h.a.marks(t),p={left:0,top:0},j=r.current,g=(a((l=o,d=Gn,g=-1<(s=i).indexOf(l),m=-1<d.indexOf(l),g?Rn(s,[l]):m?[...Rn(s,d),l]:[...s,l])),j&&(p.top=j.offsetTop+j.offsetHeight/2,p.left=j.offsetLeft+j.offsetWidth/2),e.editor.command.exec(o,{extraKey:u,event:c,position:p,marks:b}));g&&(n.current=!0,g.then((()=>n.current=!1)))})));var s=Object(c.useMemo)((()=>Object(ne.jsx)(Vn.a,{className:"menu-toolbar-container",onClickMenuItem:l,onMouseUp:e=>e.stopPropagation(),onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},mode:"vertical",selectedKeys:i,children:Fn})),[l,i]);return e.readonly?null:Object(ne.jsx)(qn,{children:Object(ne.jsx)("div",{ref:r,className:"hover-menu-container",children:s})})};var Un=n(178);const Wn={image:{void:!0,block:!0},"dividing-line":{void:!0,block:!0},"flow-chart":{void:!0,block:!0},"quote-block-item":{wrap:Oe},"highlight-block-item":{wrap:rt},"ordered-list-item":{wrap:Fe},"unordered-list-item":{wrap:Je},"code-block-item":{wrap:Ct},"react-live-item":{wrap:$t},"highlight-block":{block:!0},"code-block":{block:!0},"react-live":{block:!0}},Jn=[{children:[{text:"\u6587\u6863\u7f16\u8f91\u5668"}],heading:{id:"01f0de8f",type:"h1"},align:"center"},{children:[{text:"Github",link:{href:"https://github.com/WindrunnerMax/DocEditor",blank:!0}},{text:" \uff5c "},{text:"Editor DEMO",link:{href:"https://windrunnermax.github.io/DocEditor/",blank:!0}},{text:" \uff5c "},{text:"BLOG",link:{href:"https://github.com/WindrunnerMax/EveryDay/blob/master/Plugin/\u57fa\u4e8eslate\u6784\u5efa\u6587\u6863\u7f16\u8f91\u5668.md",blank:!0}}],align:"center"},{children:[{text:"\u57fa\u4e8e"},{text:"slate.js","inline-code":!0},{text:"\u6784\u5efa\u7684\u6587\u6863\u7f16\u8f91\u5668\uff0c\u6240\u6709\u529f\u80fd\u90fd\u662f\u57fa\u4e8e\u63d2\u4ef6\u5b9a\u4e49\u5b9e\u73b0\uff0c\u901a\u8fc7\u53f3\u4e0a\u89d2\u6309\u94ae\u5207\u6362\u7f16\u8f91\u6a21\u5f0f\u4e0e\u9884\u89c8\u6a21\u5f0f\uff0c\u6240\u89c1\u5373\u6240\u5f97\uff0c\u5f53\u524d\u9875\u9762\u4e5f\u5b9e\u73b0\u4e86\u4eae\u8272\u4e0e\u6697\u8272\u6a21\u5f0f\u7684\u9002\u914d\u3002"}]},{children:[{text:"\u884c\u5185\u5143\u7d20"}],heading:{type:"h2",id:"83ddface"}},{children:[{text:"\u652f\u6301"},{text:"\u52a0\u7c97",bold:!0},{text:"\u3001"},{text:"\u659c\u4f53",italic:!0},{text:"\u3001"},{text:"\u4e0b\u5212\u7ebf","under-line":!0},{text:"\u3001"},{text:"\u5220\u9664\u7ebf","strike-through":!0},{text:"\u3001"},{text:"\u884c\u5185\u4ee3\u7801\u5757","inline-code":!0},{text:"\u3001"},{text:"\u8d85\u94fe\u63a5",link:{href:"https://github.com/WindrunnerMax/DocEditor",blank:!0}},{text:"\u3001\u6587\u5b57\u5bf9\u9f50\u3001"},{text:"\u5b57\u53f7","font-base":{fontSize:13}},{text:"\u3001"},{text:"\u989c\u8272","font-base":{color:"rgb(var(--green-6))"}},{text:"\u3001"},{text:"\u80cc\u666f","font-base":{color:"var(--color-white)",background:"rgb(var(--blue-6))"}},{text:"\u3002"}],align:"center"},{children:[{text:"\u5757\u7ea7\u5143\u7d20"}],heading:{id:"4644b757",type:"h2"}},{children:[{text:"\u6807\u9898"}],heading:{type:"h3",id:"213e6703"}},{children:[{text:"\u652f\u6301"},{text:"h1~h3","inline-code":!0},{text:"\u7684\u4e09\u7ea7\u6807\u9898\uff0c\u5feb\u6377\u952e\u5524\u8d77 \u4e00\u7ea7\u6807\u9898"},{text:"# ","inline-code":!0},{text:"\u3001\u4e8c\u7ea7\u6807\u9898"},{text:"## ","inline-code":!0},{text:"\u3001\u4e09\u7ea7\u6807\u9898"},{text:"### ","inline-code":!0},{text:"\u3002"}]},{children:[{text:"\u5f15\u7528\u5757"}],heading:{type:"h3",id:"8426a51b"}},{"quote-block":!0,children:[{children:[{text:"\u652f\u6301\u5f15\u7528\u5757\u3002"}],"quote-block-item":!0},{"unordered-list":!0,"quote-block-item":!0,children:[{children:[{text:"\u53ef\u4ee5\u5d4c\u5957\u5176\u4ed6\u683c\u5f0f\u3002"}],"unordered-list-item":{level:1}},{"unordered-list-item":{level:1},children:[{text:"\u652f\u6301\u5feb\u6377\u952e"},{text:"> ","inline-code":!0},{text:"\u3002"}]}]}]},{children:[{text:"\u65e0\u5e8f\u5217\u8868"}],heading:{type:"h3",id:"a764a9a0"}},{children:[{text:"\u652f\u6301"},{text:"3","inline-code":!0},{text:"\u7ea7\u65e0\u5e8f\u5217\u8868\uff0c\u5feb\u6377\u952e\u5524\u8d77\u65e0\u5e8f\u5217\u8868"},{text:"* ","inline-code":!0},{text:"\u3001"},{text:"- ","inline-code":!0},{text:"\uff0c\u4e0b\u4e00\u7ea7\u65e0\u5e8f\u5217\u8868"},{text:"tab","inline-code":!0},{text:"\u3002"}]},{"unordered-list":!0,children:[{children:[{text:"\u4e00\u7ea7\u65e0\u5e8f\u5217\u8868\u3002"}],"unordered-list-item":{level:1}},{"unordered-list-item":{level:2},children:[{text:"\u4e8c\u7ea7\u65e0\u5e8f\u5217\u8868\u3002"}]},{"unordered-list-item":{level:3},children:[{text:"\u4e09\u7ea7\u65e0\u5e8f\u5217\u8868\u3002"}]}]},{children:[{text:"\u6709\u5e8f\u5217\u8868"}],heading:{type:"h3",id:"400aa7e1"}},{children:[{text:"\u652f\u6301"},{text:"3","inline-code":!0},{text:"\u7ea7\u6709\u5e8f\u5217\u8868\uff0c\u6709\u5e8f\u5217\u8868\u5404\u7ea7\u5355\u72ec\u8ba1\u6570\uff0c\u5feb\u6377\u952e\u5524\u8d77\u6709\u5e8f\u5217\u8868"},{text:"1. ","inline-code":!0},{text:"\uff0c\u4e0b\u4e00\u7ea7\u6709\u5e8f\u5217\u8868"},{text:"tab","inline-code":!0},{text:"\u3002"}]},{"ordered-list":!0,children:[{children:[{text:"\u4e00\u7ea7\u6709\u5e8f\u5217\u8868\u3002"}],"ordered-list-item":{start:1,level:1}},{"ordered-list-item":{level:2,start:1},children:[{text:"\u4e8c\u7ea7\u6709\u5e8f\u5217\u8868\u3002"}]},{"ordered-list-item":{level:3,start:1},children:[{text:"\u4e09\u7ea7\u6709\u5e8f\u5217\u8868\u3002"}]}]},{children:[{text:"\u5206\u5272\u7ebf"}],heading:{type:"h3",id:"5ab77ffb"}},{children:[{text:"\u652f\u6301\u5206\u5272\u7ebf\uff0c\u5feb\u6377\u952e"},{text:"--- ","inline-code":!0},{text:"\u3002"}]},{"dividing-line":!0,children:[{text:""}]},{children:[{text:"\u9ad8\u4eae\u5757"}],heading:{type:"h3",id:"af869b51"}},{"highlight-block":{border:"var(--arcoblue-6)",background:"var(--arcoblue-3)"},children:[{children:[{text:"\ud83c\udf30 "},{text:"\u4e3e\u4e2a\u6817\u5b50",bold:!0}],"highlight-block-item":!0},{"highlight-block-item":!0,children:[{text:"\u652f\u6301\u9ad8\u4eae\u5757 \u53ef\u4ee5\u7528\u4e8e\u63d0\u793a\u6587\u6863\u4e2d\u7684\u91cd\u8981\u5185\u5bb9\u3002"}]}]},{"highlight-block":{background:"var(--green-3)",border:"var(--green-6)"},children:[{children:[{text:"\ud83c\udfdd \u53ef\u4ee5\u4e3a\u9ad8\u4eae\u5757\u66f4\u6362\u4e3b\u9898\u3002"}],"highlight-block-item":!0}]},{children:[{text:"\u884c\u9ad8"}],heading:{type:"h3",id:"5ab77ffb"}},{children:[{text:"\u652f\u6301\u72ec\u7acb\u8bbe\u7f6e\u884c\u9ad8\u3002"}],"line-height":2},{children:[{text:"\u56fe\u7247"}],heading:{type:"h3",id:"aab55qq1"}},{children:[{text:"\u652f\u6301\u56fe\u7247\u4e0a\u4f20\u3002"}]},{children:[{text:""}],image:{src:"./favicon.ico",status:gt,width:256,height:256},uuid:"5ab77ffb-aab55qq1"},{heading:{type:"h2",id:"82651426"},children:[{text:"\u4ee3\u7801\u5757"}]},{"code-block":!0,"code-block-config":{language:"JavaScript"},children:[{children:[{text:"// \u652f\u6301\u4ee3\u7801\u5757\u9ad8\u4eae"}],"code-block-item":!0},{"code-block-item":!0,children:[{text:"const a = 1;"}]},{"code-block-item":!0,children:[{text:"const b = 2;"}]}]},{heading:{type:"h2",id:"82651426"},children:[{text:"\u6d41\u7a0b\u56fe"}]},{children:[{text:"\u652f\u6301\u6d41\u7a0b\u56fe\u5728\u7ebf\u7f16\u8f91\u3002"}]},{uuid:"4cb99540-783d-4310-87ab-1c751cd0d5ea","flow-chart":{type:"xml",content:'<mxGraphModel dx="506" dy="742" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;sketch=0;" parent="1" source="2" target="3" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="2" value="Start" style="rounded=1;whiteSpace=wrap;html=1;sketch=0;glass=0;shadow=0;comic=1;" parent="1" vertex="1"><mxGeometry x="140" y="230" width="120" height="60" as="geometry"/></mxCell><mxCell id="3" value="End" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;comic=1;" parent="1" vertex="1"><mxGeometry x="420" y="230" width="120" height="60" as="geometry"/></mxCell></root></mxGraphModel>'},children:[{text:""}]},{heading:{type:"h2",id:"82651426"},children:[{text:"React\u5b9e\u65f6\u9884\u89c8"}]},{children:[{text:"\u652f\u6301React\u7ec4\u4ef6\u5b9e\u65f6\u7f16\u8f91\u53ca\u9884\u89c8\u3002"}]},{"react-live":!0,children:[{children:[{text:"<Space size='large'>"}],"react-live-item":!0},{children:[{text:"  <Button type='primary'>Primary</Button>"}],"react-live-item":!0},{"react-live-item":!0,children:[{text:"  <Button type='secondary'>Secondary</Button>"}]},{"react-live-item":!0,children:[{text:"  <Button type='dashed'>Dashed</Button>"}]},{"react-live-item":!0,children:[{text:"  <Button type='outline'>Outline</Button>"}]},{"react-live-item":!0,children:[{text:"  <Button type='text'>Text</Button>"}]},{"react-live-item":!0,children:[{text:"</Space>"}]}]},{children:[{text:"\u5feb\u6377\u529f\u80fd"}],heading:{type:"h2",id:"8b4f0218"}},{heading:{type:"h3",id:"614d6a4c"},children:[{text:"\u5feb\u6377\u952e"}]},{children:[{text:"\u652f\u6301\u5feb\u6377\u952e: "}]},{"unordered-list":!0,children:[{children:[{text:"\u4e00\u7ea7\u6807\u9898"},{text:"# ","inline-code":!0},{text:"\u3001\u4e8c\u7ea7\u6807\u9898"},{text:"## ","inline-code":!0},{text:"\u3001\u4e09\u7ea7\u6807\u9898"},{text:"### ","inline-code":!0},{text:"\u3002"}],"unordered-list-item":{level:1}},{"unordered-list":!0,children:[{"unordered-list-item":{level:1},children:[{text:"\u5f15\u7528\u5757"},{text:"> ","inline-code":!0},{text:"\u3002"}]}]},{"unordered-list-item":{level:1},children:[{text:"\u591a\u7ea7\u65e0\u5e8f\u5217\u8868"},{text:"* ","inline-code":!0},{text:"\u3001"},{text:"- ","inline-code":!0},{text:"\uff0c\u4e0b\u7ea7\u65e0\u5e8f\u5217\u8868"},{text:"tab","inline-code":!0},{text:"\u3002"}]},{"unordered-list-item":{level:1},children:[{text:"\u591a\u7ea7\u6709\u5e8f\u5217\u8868"},{text:"1. ","inline-code":!0},{text:"\uff0c\u4e0b\u7ea7\u6709\u5e8f\u5217\u8868"},{text:"tab","inline-code":!0},{text:"\u3002"}]},{"unordered-list-item":{level:1},children:[{text:"\u5206\u5272\u7ebf"},{text:"--- ","inline-code":!0},{text:"\u3002"}]},{"unordered-list-item":{level:1},children:[{text:"\u64a4\u9500"},{text:"Ctrl + Z","inline-code":!0},{text:"\uff0c\u524d\u8fdb"},{text:"Ctrl + Shift + Z","inline-code":!0},{text:"\u3002"}]},{"unordered-list-item":{level:1},children:[{text:"\u7f29\u8fdb"},{text:"Tab","inline-code":!0},{text:"\u3002"}]}]},{children:[{text:"\u5de5\u5177\u680f"}],heading:{type:"h3",id:"0f8a5d9e"}},{children:[{text:"\u5de6\u4fa7\u5de5\u5177\u680f\u53ef\u4ee5\u5524\u8d77\u5feb\u6377\u64cd\u4f5c\uff0c\u9009\u4e2d\u6587\u5b57\u540e\u53ef\u4ee5\u5f39\u51fa\u9876\u90e8\u5de5\u5177\u680f\u3002"}]},{children:[{text:"\u5176\u4ed6"}],heading:{type:"h2",id:"3e92c207"}},{children:[{text:"\u540e\u7eed\u652f\u6301\u5b8c\u5584\u4e2d..."}]}],Yn=e=>{const t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Object(c.useMemo)((()=>{{var[e,n]=[...t],r=Object(m.b)(Object(u.f)(Object(h.j)()));const i=(e=new be(e)).with(r),a=(i.init=n,i.schema=e,i.command=new K(i),i.logger=new te(ee),i.event=new F(i),i.clipboard=new M(i),i.plugin=new ce(i),i.apply);return i.apply=e=>{"set_selection"===e.type?i.event.trigger(H,{previous:e.properties,current:e.newProperties}):i.event.trigger(q,{changes:e}),a(e)},i.destroy=()=>{i.command.destroy(),i.event.destroy(),i.plugin.destroy()},i}}),[]);return Object(c.useEffect)((()=>()=>{r.destroy()}),[]),r}(Wn,Jn),n=(Object(c.useMemo)((()=>{window.editor=t,window.Transformers=h.i,window.Editor=h.a,t.logger.set(Z),t.plugin.register({key:ge,type:ie,command:(e,t,n)=>{var r=n.element;n=n.path,r&&n&&v(e,r)&&(r=O(r),se(e,Object.keys(r),{at:n}))},priority:11,match:()=>!0,renderLine:e=>Object(ne.jsx)("div",{className:"doc-line",children:e.children})},(e=>({key:xe,type:ie,command:fe,match:e=>!!e.element[xe],renderLine:e=>{var t=e.props.element[xe];if(!t)return e.children;var n=t.id;switch(t.type){case"h1":return Object(ne.jsx)("h1",{className:"doc-heading",id:n,children:e.children});case"h2":return Object(ne.jsx)("h2",{className:"doc-heading",id:n,children:e.children});case"h3":return Object(ne.jsx)("h3",{className:"doc-heading",id:n,children:e.children});default:return e.children}},onKeyDown:t=>{if(C(t,I,P)&&E(e,e.selection)){var n;if(n=p(e)){var{block:n,path:r}=n;if(!n[xe])return;j(n)&&(t.key===I&&L(e,r)&&(se(e,[xe],{at:r}),t.preventDefault()),t.key===P)&&((e,t)=>(t=h.a.end(e,t),E(e,e.selection)&&h.f.equals(t,e.selection.anchor)))(e,r)&&(r=O(n,[xe]),(e=>(e=p(e))&&2<=e.path.length)(e)?(h.i.insertNodes(e,{...r,children:[{text:" "}]},{at:e.selection.focus,select:!1}),h.i.move(e,{distance:1}),Promise.resolve().then((()=>e.deleteForward("character")))):h.i.insertNodes(e,{...r,children:[{text:""}]}),t.preventDefault())}return oe}}}))(t),{key:ye,type:ae,match:e=>!!e.leaf[ye],command:(e,t,n)=>{(n=n.marks)&&n[t]?he(e,[t]):de(e,{[t]:!0})},render:e=>Object(ne.jsx)("strong",{children:e.children})},(e=>({key:Oe,type:ie,match:e=>!!e.element[Oe],renderLine:e=>Object(ne.jsx)("blockquote",{className:"doc-quote-block",children:e.children}),command:we,onKeyDown:t=>{if(C(t,I,P)&&E(e,e.selection)&&S(e,Oe,ke)){var n=p(e,{key:Oe}),r=p(e,{key:ke});if(r&&n)return L(e,r.path)&&D(e,"or",{wrapNode:n,itemNode:r})&&(ue(e,{wrapKey:Oe,itemKey:ke}),t.preventDefault()),oe}}}))(t),((e,t)=>{let n=null;return{key:Pe,type:ae,match:e=>!!e.leaf[Pe],command:(e,t,r)=>{if(r&&r.position&&r.marks&&!n){const i=r.position,a={...r.marks[Pe]||{href:"",blank:!0}};return new Promise((r=>{const o=new Le;(n=o).onBeforeDestroy((()=>{n=null,r()})),o.mount(Object(ne.jsx)(Ie,{config:a,left:i.left,top:i.top,onConfirm:n=>{a.href=n.href,a.blank=n.blank,de(e,{[t]:a}),o.destroy()},onCancel:()=>{he(e,[t]),o.destroy()}}))})).catch((()=>{}))}n&&(n.destroy(),n=null)},render:n=>{var r=Ee(n.props.leaf[Pe]);return t?Object(ne.jsx)("a",{className:"hyper-link",href:r.href,target:r.blank?"_blank":void 0,children:n.children}):Object(ne.jsx)(ze,{config:r,element:n.element,editor:e,children:n.children})}}})(t,e.readonly),{key:Ae,type:ae,match:e=>!!e.leaf[Ae],command:(e,t,n)=>{(n=n.marks)&&n[t]?he(e,[t]):de(e,{[t]:!0})},render:e=>Object(ne.jsx)("u",{children:e.children})},{key:Te,type:ae,match:e=>!!e.leaf[Te],command:(e,t,n)=>{(n=n.marks)&&n[t]?he(e,[t]):de(e,{[t]:!0})},render:e=>Object(ne.jsx)("del",{children:e.children})},{key:Ve,type:ae,match:e=>!!e.leaf[Ve],command:(e,t,n)=>{(n=n.marks)&&n[t]?he(e,[t]):de(e,{[t]:!0})},render:e=>Object(ne.jsx)("em",{children:e.children})},{key:Re,type:ae,match:e=>!!e.leaf[Re],command:(e,t,n)=>{(n=n.marks)&&n[t]?he(e,[t]):de(e,{[t]:!0})},render:e=>Object(ne.jsx)("code",{className:"slate-inline-code",children:e.children})},(e=>({key:Fe,type:ie,match:e=>g(e.element,Fe)||g(e.element,qe),renderLine:e=>{var t;return g(e.element,Fe)?Object(ne.jsx)("ol",{className:"doc-ordered-list",children:e.children}):(t=Ee(e.element[qe]),Object(ne.jsx)("li",{className:"doc-ordered-item ordered-li-".concat(t.level),value:t.start,children:e.children}))},command:We,onKeyDown:t=>{if(C(t,I,P,A)&&E(e,e.selection)&&S(e,Fe,qe)){var n=p(e,{key:Fe}),r=p(e,{key:qe});if(r&&n){var{level:i,start:a}=Ee(r.block[qe]);if(t.key===A)i<3&&le(e,{"ordered-list-item":{start:a,level:i+1}},{node:r.block}),_e(e),t.preventDefault();else{if(L(e,r.path)){if(1<i)return le(e,{"ordered-list-item":{start:a,level:i-1}},{node:r.block}),_e(e),t.preventDefault(),oe;if(D(e,"or",{wrapNode:n,itemNode:r}))return ue(e,{wrapKey:Fe,itemKey:qe}),Ue(e),t.preventDefault(),oe;if(C(t,I))return e.deleteBackward("block"),_e(e),t.preventDefault(),oe}t.key===P&&(h.i.splitNodes(e,{always:!0}),_e(e),t.preventDefault())}return oe}}}}))(t),(e=>({key:Je,type:ie,match:e=>g(e.element,Je)||g(e.element,Ye),renderLine:e=>{var t;return g(e.element,Je)?Object(ne.jsx)("ul",{className:"doc-unordered-list",children:e.children}):(t=Ee(e.element[Ye]),Object(ne.jsx)("li",{className:"doc-unordered-item unordered-li-".concat(t.level),children:e.children}))},command:Ze,onKeyDown:t=>{if(C(t,I,P,A)&&E(e,e.selection)&&S(e,Je,Ye)){var n,r=p(e,{key:Je}),i=p(e,{key:Ye});if(i&&r)return n=Ee(i.block[Ye]).level,t.key===A?(n<3&&le(e,{"unordered-list-item":{level:n+1}},{node:i.block}),t.preventDefault()):L(e,i.path)&&(1<n?(le(e,{"unordered-list-item":{level:n-1}},{node:i.block}),t.preventDefault()):D(e,"or",{wrapNode:r,itemNode:i})&&(ue(e,{wrapKey:Je,itemKey:Ye}),t.preventDefault())),oe}}}))(t),{key:$e,type:ie,command:(e,t)=>{h.i.insertNodes(e,{[t]:!0,children:[{text:""}]}),h.i.insertNodes(e,{children:[{text:""}]})},match:e=>g(e.element,$e),render:()=>Object(ne.jsx)(Qe,{})},{key:et,type:ie,command:tt,match:e=>!!e.element[et],renderLine:e=>{var t=e.props.element[et];return t&&"left"!==t&&e.classList.push("align-"+t),e.children}},((e,t)=>({key:rt,type:ie,match:e=>!!e.element[rt],renderLine:n=>{var r=Ee(n.props.element[rt]);return Object(ne.jsx)(ot,{editor:e,element:n.element,config:r,readonly:t,children:n.children})},command:(e,t,n)=>{Object(b.d)(n)&&n.path&&(S(e,rt,it,n.path)?ue(e,{at:n.path,wrapKey:rt,itemKey:it}):me(e,{"highlight-block":{border:at[0].border,background:at[0].background}},{"highlight-block-item":!0},{at:n.path}))},onKeyDown:t=>{if(C(t,I,P)&&E(e,e.selection)&&S(e,rt,it)){var n=p(e,{key:rt}),r=p(e,{key:it});if(r&&n)return L(e,r.path)&&D(e,"or",{wrapNode:n,itemNode:r})&&(ue(e,{wrapKey:rt,itemKey:it}),t.preventDefault()),oe}}}))(t,e.readonly),(()=>{let e=null;return{key:dt,type:ae,match:e=>!!e.leaf[dt],command:(t,n,r)=>{if(r&&r.position&&r.marks&&!e){const i=r.marks[dt]||{},a=r.position;return new Promise((r=>{var o=new Le;(e=o).onBeforeDestroy((()=>{e=null,r()})),o.mount(Object(ne.jsx)(st,{config:i,left:a.left,top:a.top,onChange:e=>{de(t,{[n]:e})}}))})).catch((()=>{}))}e&&(e.destroy(),e=null)},render:e=>{var t=Ee(e.props.leaf[dt]);return e.style={...e.style,...t},e.children}}})(),(()=>{let e=null;return{key:mt,type:ie,match:e=>!!e.element[mt],command:(t,n,r)=>{if(r&&r.position&&!e){let a=1.8;var i=p(t,{key:mt});i&&(a=Ee(i.block["line-height"]));const o=r.position;return new Promise((r=>{var i=new Le;(e=i).onBeforeDestroy((()=>{e=null,r()})),i.mount(Object(ne.jsx)(ht,{config:a,left:o.left,top:o.top,onChange:e=>{le(t,{[n]:e})}}))})).catch((()=>{}))}e&&(e.destroy(),e=null)},renderLine:e=>{var t=Ee(e.props.element[mt]);return Object(ne.jsx)("div",{style:{lineHeight:t},children:e.children})}}})(),function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Nt;const r="doc-image-upload-input";return{key:xt,type:ie,command:(t,i,a)=>{let o=document.getElementById(r);o||((o=document.createElement("input")).setAttribute("type","file"),o.setAttribute("class",r),o.setAttribute("accept","image/png, image/jpeg, image/svg+xml"),document.body.append(o)),o.onchange=r=>{var i,o;r=r.target.files,i=t,o=null==a?void 0:a.path,u.b.focus(i),o?(h.i.select(i,o),h.i.collapse(i,{edge:"end"})):h.i.collapse(i,{edge:"focus"}),r&&Array.from(r).forEach((t=>{var r=window.URL.createObjectURL(t);const i=Object(ve.a)();le(e,{uuid:i,image:{src:r,status:jt},children:[{text:""}]}),n(t).then((t=>{const n=k(e,i);n&&m.a.withoutSaving(e,(()=>{le(e,{image:{src:t.src,status:gt,width:t.width,height:t.height}},{at:n,key:xt})}))})).catch((()=>{const t=k(e,i);t&&m.a.withoutSaving(e,(()=>{le(e,{image:{src:void 0,status:vt}},{at:t,key:xt})}))}))})),h.i.insertNodes(t,{children:[{text:""}]})},o.click()},match:e=>g(e.element,xt),render:n=>Object(ne.jsx)(wt,{editor:e,element:n.element,readonly:t})}}(t,e.readonly),((e,t)=>({key:Ct,type:ie,command:e=>{me(e,{"code-block-config":{language:St},"code-block":!0},{"code-block-item":!0})},match:e=>!!e.element[Ct],renderLine:n=>{var r;return n.element[Bt]?n.children:(r=Kt(n.element),Object(ne.jsxs)("div",{className:"code-block",children:[Object(ne.jsx)("div",{contentEditable:!1,children:Object(ne.jsx)(Et.a,{size:"mini",style:{width:160},showSearch:!0,defaultValue:r,disabled:t,onChange:t=>{var r=n.element;r=u.b.findPath(e,r),le(e,{"code-block-config":{language:t}},{at:r,key:Ct})},children:Mt.map((e=>Object(ne.jsx)(Et.a.Option,{value:e,children:e},e)))})}),n.children]}))},matchLeaf:e=>!!e.leaf[Lt],renderLeaf:e=>(e.classList.push("token",e.leaf[Lt]||""),e.children),decorate:t=>{var[t,n]=t;const r=[];if(v(e,t)&&t[Bt]&&(t=t.children[0],x(t)&&(t=p(e,{at:n,key:Ct})))){const i=[...n,0];((e,t)=>{if(t===St)return[];var n=[];let r=0;for(const a of Dt.a.tokenize(e,Dt.a.languages[t.toLowerCase()])){var i=r+(i="string"==typeof(i=a)?i.length:"string"==typeof i.content?i.content.length:0);"string"!=typeof a&&n.push({type:a.type,start:r,end:i}),r=i}return n})(h.a.string(e,n),Kt(t.block)).forEach((e=>{r.push({anchor:{path:i,offset:e.start},focus:{path:i,offset:e.end},"code-block-type":e.type})}))}return r}}))(t,e.readonly),(e=>({key:"indent",type:ie,priority:-1,match:()=>!1,onKeyDown:t=>{C(t,A)&&E(e,e.selection)&&(h.i.insertText(e,"\t"),t.preventDefault(),t.stopPropagation())}}))(t),((e,t)=>({key:Tt,type:ie,command:e=>{le(e,{uuid:Object(ve.a)(),"flow-chart":{type:"xml",content:""},children:[{text:""}]})},match:e=>g(e.element,Tt),render:n=>{var r=n.element[Tt];return r?Object(ne.jsx)(Xt,{element:n.element,readonly:t,config:r,editor:e}):n.children}}))(t,e.readonly),(e=>({key:$t,type:ie,command:e=>{me(e,{"react-live":!0},{"react-live-item":!0}),h.i.insertText(e,"<Button type='primary'>Primary</Button>")},match:e=>!!e.element[$t],renderLine:t=>t.element[en]?t.children:Object(ne.jsx)(tn,{element:t.element,editor:e,children:t.children}),matchLeaf:e=>!!e.leaf[Qt],renderLeaf:e=>(e.classList.push("token",e.leaf[Qt]||""),e.children),decorate:t=>{var[t,n]=t;if(v(e,t)&&t[en]){if(t=((e,t,n)=>(t=t.children[0],x(t)&&p(e,{at:n,key:$t})?h.a.string(e,n):null))(e,t,n),!t)return[];const r=[...n,0];return(e=>{var t=[];let n=0;for(const i of Dt.a.tokenize(e,Dt.a.languages["Javascript".toLowerCase()])){var r=n+(r="string"==typeof(r=i)?r.length:"string"==typeof r.content?r.content.length:0);"string"!=typeof i&&t.push({type:i.type,start:n,end:r}),n=r}return t})(t).map((e=>({anchor:{path:r,offset:e.start},focus:{path:r,offset:e.end},"react-live-type":e.type})))}return[]}}))(t),((e,t,n)=>({key:"doc-toolbar",priority:13,type:ie,match:()=>!0,renderLine:r=>t?r.children:Object(ne.jsx)(An,{editor:e,element:r.element,schema:n,children:r.children})}))(t,e.readonly,Wn),(e=>({key:"shortcut",type:ie,priority:50,match:()=>!1,onKeyDown:t=>{var n,r,i;C(t,z)&&E(e,e.selection)&&(n=p(e))&&(r=e.selection.anchor,n=n.path,r={anchor:r,focus:h.a.start(e,n)},i=h.a.string(e,r),i=Tn[i.trim()])&&(h.i.select(e,r),h.i.delete(e),[r,i]=i.split("."),e.command.exec(r,{extraKey:i,path:n}),t.preventDefault())}}))(t))}),[t,e.readonly]),Object(d.a)(Object(Un.a)((()=>{console.log("Text changes",t.children)}),500)));return Object(c.useEffect)((()=>(t.event.on(q,n),()=>{t.event.off(q,n)})),[t.event,n]),Object(ne.jsxs)(l.a.Fragment,{children:[Object(ne.jsx)(Xn,{readonly:e.readonly,editor:t}),Object(ne.jsx)(je,{editor:t,readonly:e.readonly,placeholder:"Enter text ..."})]})};bn=n(350),Dn=n(351),yn=n(352);var Zn=n(393);const $n="theme-index",Qn=window.matchMedia("(prefers-color-scheme: dark)"),er=[Object(ne.jsx)(bn.a,{}),Object(ne.jsx)(Dn.a,{}),Object(ne.jsx)(yn.a,{})],tr=e=>{e.matches?document.body.setAttribute("arco-theme","dark"):document.body.removeAttribute("arco-theme")},nr=()=>{const[e,t]=Object(c.useState)(Zn.a.local.get($n)||0);return Object(c.useEffect)((()=>{switch(e){case 0:Qn.matches?document.body.setAttribute("arco-theme","dark"):document.body.removeAttribute("arco-theme"),Qn.onchange=tr;break;case 1:Qn.onchange=null,document.body.removeAttribute("arco-theme");break;case 2:Qn.onchange=null,document.body.setAttribute("arco-theme","dark")}}),[e]),Object(ne.jsx)("div",{onClick:()=>{var n=(e+1)%er.length;t(n),Zn.a.local.set($n,n)},children:er[e]})},rr=()=>{const[e,t]=Object(c.useState)(!1);return Object(ne.jsxs)("div",{className:"doc-editor-container",children:[Object(ne.jsxs)("div",{className:"header",children:[Object(ne.jsx)("span",{className:"left",children:"Slogan"}),Object(ne.jsxs)("div",{className:"right",children:[Object(ne.jsx)("div",{onClick:()=>t(!e),children:e?Object(ne.jsx)(r.a,{}):Object(ne.jsx)(i.a,{})}),Object(ne.jsx)(nr,{}),Object(ne.jsx)("a",{className:"github",target:"_blank",href:"https://github.com/WindrunnerMax/DocEditor",children:Object(ne.jsx)(a.a,{})})]})]}),Object(ne.jsx)("div",{className:"gap"}),Object(ne.jsx)("div",{className:Object(o.a)("editor",e&&"render"),children:Object(ne.jsx)("div",{className:"slate-editor",children:Object(ne.jsx)(Yn,{readonly:e})})})]})};s.a.render(Object(ne.jsx)(rr,{}),document.getElementById("root"))},71:function(e,t,n){e.exports={preview:"wrapper_preview__wkuMJ",resider:"wrapper_resider__390yi"}}},[[340,4,5]]]);